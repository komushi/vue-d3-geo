webpackJsonp([1],[,,function(t,e,a){function r(t){a(15)}var n=a(0)(a(10),a(22),r,null,null);t.exports=n.exports},function(t,e,a){function r(t){a(16)}var n=a(0)(a(11),a(23),r,null,null);t.exports=n.exports},function(t,e,a){"use strict";e.a=function(t,e){var a,r,n=e.split(".");for(a=0,r=n.length;a<r;a++){if(!t.hasOwnProperty(n[a]))return;t=t[n[a]]}return t}},,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(5),n=(a.n(r),a(6)),i=(a.n(n),a(4)),o={id:{type:String,required:!0},topojsonPath:{type:String},width:{type:Number,default:1e3},height:{type:Number,default:1e3},colorRange:{type:String,default:"#e3f2fd,#2196f3,#0d47a1"},center:{type:String,default:"139.752268, 35.677043"},scale:{type:Number,default:11e4},layer1Objects:{type:String,default:"districts"},layer2Objects:{type:String,default:"blocks"},layer1FeatureName:{type:String,default:"properties.district"},layer1FeatureCode:{type:String,default:"properties.district_code"},layer2FeatureName:{type:String,default:"properties.block"},layer2FeatureCode:{type:String,default:"properties.block_code"}};e.default={name:"d3-geo-double-layer",props:o,mounted:function(){function t(){B.classed("active",!1),B=r.select(null),g.transition().duration(750).style("stroke-width","1.5px").attr("transform",""),v.selectAll("text").transition().style("display","block").transition().duration(250).style("fill-opacity",1),m.selectAll("path").transition().style("fill-opacity",0).style("display","none")}var e=this.layer1Objects,o=this.layer2Objects,l=this.colorRange,s=this.layer1FeatureCode,c=this.layer1FeatureName,d=this.layer2FeatureCode,u=this.layer2FeatureName,p=this.layer1LegendTitle,f=this.width,y=this.height,h=r.select(this.$el).append("svg").attr("width",f).attr("height",y);h.append("rect").attr("class","background").attr("width",f).attr("height",y).on("click",t);var g=h.append("g"),m=g.append("g").attr("id","layer2"),b=g.append("g").attr("id","layer1"),x=g.append("g").attr("id","layer2_label"),v=g.append("g").attr("id","layer1_label"),j=r.geo.mercator().center(this.center.split(",")).scale(this.scale).translate([f/2,y/2]),_=r.geo.path().projection(j),S=function(t,e){return r.scale.linear().domain([0,t]).range([0,e])},A=g.append("defs").attr("id","common_grads_def"),w=A.append("radialGradient").attr("gradientUnits","objectBoundingBox").attr("fx","50%").attr("fy","50%").attr("cx","50%").attr("cy","50%").attr("r","35%").attr("id","circleGrad1");w.append("stop").attr("offset","0%").style("stop-color","white").style("stop-opacity","1"),w.append("stop").attr("offset","100%").style("stop-color",function(t){return"orange"}).style("stop-opacity",".6");var k=function(t,e,a){var r=S(t,a),n=r.domain();n[2]=n[1]-n[0];for(var i=[],o=0;o<a;o++)i.push(o*n[2]/(a-1)+n[0]);return i}(1,0,10),F=S(1,f);A.append("linearGradient").attr("id","legend-traffic").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").selectAll("stop").data(r.range(10)).enter().append("stop").attr("offset",function(t,e){return F(k[e])/f}).attr("stop-color",function(t,e){return l.split(",")[0]});var N=(g.node().getBBox(),Math.min(.8*f,600)),G=g.append("g").attr("id","legendWrapper").attr("transform","translate("+f/2+","+.95*y+")");G.append("rect").attr("id","legendRect").attr("x",-N/2).attr("y",0).attr("width",N).attr("height",10).style("fill","url(#legend-traffic)"),G.append("text").attr("class","layer1LegendTitle").attr("x",0).attr("y",-10).style("text-anchor","middle").text(p);var O=function(t,e){var a=r.scale.linear().range([-t/2,t/2]).domain([0,e]);return r.svg.axis().orient("bottom").ticks(5).scale(a)}(N,0);G.append("g").attr("id","axis").attr("transform","translate(0,10)").call(O),console.log("this.topojsonPath:",this.topojsonPath),r.json(this.topojsonPath,function(t,p){var f=n.feature(p,p.objects[e]).features,y=n.feature(p,p.objects[o]).features,h=n.mesh(p,p.objects[e],function(t,e){return t!==e}),j=l.split(",")[0],S=g.append("defs").attr("id","layer1_hgrads").selectAll("radialGradient").data(f).enter().append("radialGradient").attr("gradientUnits","objectBoundingBox").attr("fx","50%").attr("fy","50%").attr("cx","50%").attr("cy","50%").attr("r","100%").attr("id",function(t,e){return"hgrad"+a.i(i.a)(t,s)});S.append("stop").attr("offset","0%").style("stop-color","white").style("stop-opacity","1"),S.append("stop").attr("offset","100%").style("stop-color",function(t,e){return j}).style("stop-opacity","1");var A=g.append("defs").attr("id","layer1_grads").selectAll("radialGradient").data(f).enter().append("radialGradient").attr("gradientUnits","objectBoundingBox").attr("fx","50%").attr("fy","50%").attr("cx","50%").attr("cy","50%").attr("r","35%").attr("id",function(t,e){return"grad"+a.i(i.a)(t,s)});A.append("stop").attr("offset","0%").style("stop-color",function(t,e){return j}).style("stop-opacity",".7"),A.append("stop").attr("offset","100%").style("stop-color",function(t,e){return j}).style("stop-opacity","1");var w=function(t){r.select(this).style("fill",function(t){return"url(#hgrad"+a.i(i.a)(t,s)+")"})},k=function(t){r.select(this).style("fill",function(t){return"url(#grad"+a.i(i.a)(t,s)+")"})};m.selectAll("path").data(y).enter().append("path").attr("d",_).attr("fill",function(t,e){return"url(#grad"+a.i(i.a)(t,s)+")"}).style("fill-opacity",0).style("display","none").attr("layer1-feature-code",function(t){return a.i(i.a)(t,s)}).attr("layer1-feature-name",function(t){return a.i(i.a)(t,c)}).attr("layer2-feature-code",function(t){return a.i(i.a)(t,d)}).attr("layer2-feature-name",function(t){return a.i(i.a)(t,u)}).attr("class","layer2").on("click",P).on("mouseover",M).on("mouseout",U),x.selectAll("text").data(y).enter().append("text").attr("class","label").style("fill-opacity",0).style("display","none").attr("transform",function(t){return"translate("+_.centroid(t)+")"}).attr("dy",".35em").attr("pointer-events","none").text(function(t){return a.i(i.a)(t,u)}).attr("layer2-feature-code",function(t){return a.i(i.a)(t,d)}),b.selectAll("path").data(f).enter().append("path").attr("class","layer1").attr("d",_).style("fill",function(t,e){return"url(#grad"+a.i(i.a)(t,s)+")"}).attr("layer1-feature-code",function(t){return a.i(i.a)(t,s)}).attr("layer1-feature-name",function(t){return a.i(i.a)(t,c)}).on("click",R).on("mouseover",w).on("mouseout",k),b.append("path").datum(h).attr("d",_).attr("class","layer1-boundary"),v.selectAll("text").data(f).enter().append("text").attr("class","label").attr("transform",function(t){return"translate("+_.centroid(t)+")"}).attr("dy",".35em").attr("pointer-events","none").text(function(t){return a.i(i.a)(t,c)}).attr("layer1-feature-code",function(t){return a.i(i.a)(t,s)})});var B=r.select(null),P=function(e){if(B.node()&&this.getAttribute("layer1-feature-code")==B.node().getAttribute("layer1-feature-code"))return t()},R=function(e){if(B.node()===this)return t();B.classed("active",!1),B=r.select(this).classed("active",!0),C(e)},C=function(t){var e=_.bounds(t),r=e[1][0]-e[0][0],n=e[1][1]-e[0][1],o=(e[0][0]+e[1][0])/2,l=(e[0][1]+e[1][1])/2,c=.9/Math.max(r/f,n/y),d=[f/2-c*o,y/2-c*l];g.transition().duration(750).style("stroke-width",1.5/c+"px").attr("transform","translate("+d+")scale("+c+")"),v.selectAll("text").transition().style("fill-opacity",0).transition().style("display","none"),m.selectAll("path").transition().style("fill-opacity",1).style("display","block");a.i(i.a)(t,s)},M=function(t){x.selectAll("text").filter(function(e){return a.i(i.a)(t,d)==a.i(i.a)(e,d)}).transition().style("fill-opacity",1).style("display","block"),r.select(this).style("fill",function(t){return"url(#hgrad"+a.i(i.a)(t,s)+")"})},U=function(t){x.selectAll("text").filter(function(e){return a.i(i.a)(t,d)==a.i(i.a)(e,d)}).transition().style("fill-opacity",0).transition().style("display","none"),r.select(this).style("fill",function(t){return"url(#grad"+a.i(i.a)(t,s)+")"})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(5),n=(a.n(r),a(6)),i=(a.n(n),a(4)),o={topojsonPath:{type:String},width:{type:Number,default:1e3},height:{type:Number,default:1e3},colorRange:{type:String,default:"#0d47a1,#e3f2fd"},center:{type:String,default:"139.752268, 35.677043"},scale:{type:Number,default:11e4},layerObjects:{type:String,default:"districts"},layerFeatureName:{type:String,default:"properties.district"},layerFeatureCode:{type:String,default:"properties.district_code"},featureNameStyle:{type:String,default:"static"}};e.default={name:"d3-geo-staic",props:o,mounted:function(){var t=this.layerObjects,e=this.colorRange,o=this.layerFeatureCode,l=this.layerFeatureName,s=this.featureNameStyle,c=r.select(this.$el).append("svg").attr("width",this.width).attr("height",this.height),d=c.append("g"),u=d.append("g").attr("id",this.layerObjects),p=d.append("g").attr("id",this.layerObjects+"_label");console.log("this.center:",this.center);var f=r.geo.mercator().center(this.center.split(",")).scale(this.scale).translate([this.width/2,this.height/2]),y=r.geo.path().projection(f);console.log("this.topojsonPath:",this.topojsonPath),r.json(this.topojsonPath,function(c,f){console.log("layerObjects:",t);var h=n.feature(f,f.objects[t]).features,g=n.mesh(f,f.objects[t],function(t,e){return t!==e}),m=r.scale.linear().domain([1,h.length]).interpolate(r.interpolateHcl).range(e.split(",")),b=d.append("defs").attr("id",t+"_hdef").selectAll("radialGradient").data(h).enter().append("radialGradient").attr("gradientUnits","objectBoundingBox").attr("fx","50%").attr("fy","50%").attr("cx","50%").attr("cy","50%").attr("r","100%").attr("id",function(t){return"hgrad"+a.i(i.a)(t,o)});b.append("stop").attr("offset","0%").style("stop-color","white").style("stop-opacity","1"),b.append("stop").attr("offset","100%").style("stop-color",function(t,e){return m(e+1)}).style("stop-opacity","1");var x=d.append("defs").attr("id",t+"_def").selectAll("radialGradient").data(h).enter().append("radialGradient").attr("gradientUnits","objectBoundingBox").attr("fx","50%").attr("fy","50%").attr("cx","50%").attr("cy","50%").attr("r","35%").attr("id",function(t){return"grad"+a.i(i.a)(t,o)});if(x.append("stop").attr("offset","0%").style("stop-color",function(t,e){return m(e+1)}).style("stop-opacity",".8"),x.append("stop").attr("offset","100%").style("stop-color",function(t,e){return m(e+1)}).style("stop-opacity","1"),"static"==s){var v=function(t){r.select(this).style("fill",function(t){return"url(#hgrad"+a.i(i.a)(t,o)+")"})},j=function(t){r.select(this).style("fill",function(t){return"url(#grad"+a.i(i.a)(t,o)+")"})};u.selectAll("path").data(h).enter().append("path").attr("d",y).attr("fill",function(t){return"url(#grad"+a.i(i.a)(t,o)+")"}).attr("layer-feature-code",function(t){return a.i(i.a)(t,o)}).attr("layer-feature-name",function(t){return a.i(i.a)(t,l)}).on("mouseover",v).on("mouseout",j),u.append("path").datum(g).attr("d",y).attr("class","layer1-boundary"),p.selectAll("text").data(h).enter().append("text").attr("class","label").attr("pointer-events","none").attr("transform",function(t){return"translate("+y.centroid(t)+")"}).attr("dy",".35em").text(function(t){return a.i(i.a)(t,l)}).attr("layer-feature-code",function(t){return a.i(i.a)(t,o)})}})}}},,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(3),n=a.n(r),i=a(2),o=a.n(i);a.d(e,"D3GeoDoubleLayer",function(){return o.a}),a.d(e,"D3GeoStatic",function(){return n.a})},,function(t,e){},function(t,e){},,,,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}}],[13]);
//# sourceMappingURL=vue-d3-geo.ae9ed5d600c3676b53a2.js.map